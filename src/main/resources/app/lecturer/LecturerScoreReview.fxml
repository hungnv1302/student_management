<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<VBox spacing="20.0" style="-fx-padding: 20; -fx-background-color: #FAFAFA;"
      xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="org.example.controller.lecturer.LecturerReviewController">

    <!-- Header -->
    <Label text="QUáº¢N LÃ PHÃšC TRA ÄIá»‚M"
           style="-fx-font-size: 24; -fx-font-weight: bold; -fx-text-fill: #1976D2;" />

    <!-- Filter Section -->
    <VBox spacing="10.0"
          style="-fx-padding: 15; -fx-border-color: #E0E0E0; -fx-border-radius: 8; -fx-background-color: white; -fx-background-radius: 8;">
        <Label text="Bá»™ lá»c" style="-fx-font-weight: bold; -fx-font-size: 14;" />

        <HBox alignment="CENTER_LEFT" spacing="15.0">
            <Label text="Tráº¡ng thÃ¡i:" style="-fx-font-weight: bold;" />
            <ComboBox fx:id="statusFilter" prefWidth="150.0" onAction="#handleLoad"
                      style="-fx-background-radius: 5;" />
            <Region HBox.hgrow="ALWAYS" />
            <Button text="ðŸ”„ Táº£i láº¡i" onAction="#handleLoad"
                    style="-fx-background-color: #1976D2; -fx-text-fill: white; -fx-background-radius: 5; -fx-padding: 8 20; -fx-cursor: hand; -fx-font-weight: bold;">
                <tooltip>
                    <Tooltip text="Táº£i láº¡i danh sÃ¡ch yÃªu cáº§u phÃºc tra" />
                </tooltip>
            </Button>
        </HBox>
    </VBox>

    <!-- Table Section -->
    <VBox spacing="15.0" VBox.vgrow="ALWAYS"
          style="-fx-padding: 15; -fx-border-color: #E0E0E0; -fx-border-radius: 8; -fx-background-color: white; -fx-background-radius: 8;">

        <!-- Table Header -->
        <HBox alignment="CENTER_LEFT" spacing="10.0">
            <Label text="Danh sÃ¡ch yÃªu cáº§u phÃºc tra"
                   style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #424242;" />
            <Region HBox.hgrow="ALWAYS" />
            <Label fx:id="statusLabel" text=""
                   style="-fx-text-fill: #757575; -fx-font-style: italic;" />
        </HBox>

        <!-- Table View -->
        <TableView fx:id="reviewTable" prefHeight="450.0" VBox.vgrow="ALWAYS"
                   style="-fx-border-color: #E0E0E0; -fx-border-width: 1; -fx-border-radius: 5;">
            <columns>
                <TableColumn fx:id="colRequestId" prefWidth="70.0" text="MÃ£ YC"
                             resizable="false" sortable="true">
                    <style>
                        -fx-alignment: CENTER;
                    </style>
                </TableColumn>

                <TableColumn fx:id="colStudentId" prefWidth="90.0" text="MÃ£ SV"
                             resizable="false" sortable="true">
                    <style>
                        -fx-alignment: CENTER;
                    </style>
                </TableColumn>

                <TableColumn fx:id="colStudentName" prefWidth="170.0" text="TÃªn sinh viÃªn"
                             resizable="true" sortable="true" />

                <TableColumn fx:id="colClassId" prefWidth="75.0" text="Lá»›p"
                             resizable="false" sortable="true">
                    <style>
                        -fx-alignment: CENTER;
                    </style>
                </TableColumn>

                <TableColumn fx:id="colSubjectName" prefWidth="200.0" text="MÃ´n há»c"
                             resizable="true" sortable="true" />

                <TableColumn fx:id="colOldTotal" prefWidth="95.0" text="Äiá»ƒm hiá»‡n táº¡i"
                             resizable="false" sortable="true">
                    <style>
                        -fx-alignment: CENTER;
                    </style>
                </TableColumn>

                <TableColumn fx:id="colStatus" prefWidth="100.0" text="Tráº¡ng thÃ¡i"
                             resizable="false" sortable="true">
                    <style>
                        -fx-alignment: CENTER;
                    </style>
                </TableColumn>

                <TableColumn fx:id="colCreatedAt" prefWidth="130.0" text="NgÃ y gá»­i"
                             resizable="false" sortable="true">
                    <style>
                        -fx-alignment: CENTER;
                    </style>
                </TableColumn>
            </columns>

            <placeholder>
                <VBox alignment="CENTER" spacing="10">
                    <Label text="ðŸ“­" style="-fx-font-size: 48;" />
                    <Label text="ChÆ°a cÃ³ yÃªu cáº§u phÃºc tra nÃ o"
                           style="-fx-text-fill: #9E9E9E; -fx-font-style: italic; -fx-font-size: 14;" />
                </VBox>
            </placeholder>

            <columnResizePolicy>
                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
            </columnResizePolicy>
        </TableView>

        <!-- Action Buttons -->
        <HBox alignment="CENTER_RIGHT" spacing="15.0" style="-fx-padding: 10 0 0 0;">
            <Button text="ðŸ“‹ Xem chi tiáº¿t" onAction="#handleViewDetail"
                    style="-fx-background-color: #1976D2; -fx-text-fill: WHITE; -fx-background-radius: 5; -fx-font-weight: bold; -fx-padding: 10 25; -fx-cursor: hand;">
                <tooltip>
                    <Tooltip text="Xem thÃ´ng tin chi tiáº¿t yÃªu cáº§u phÃºc tra" />
                </tooltip>
            </Button>

            <Button text="âœ… Cháº¥p nháº­n" onAction="#handleApprove"
                    style="-fx-background-color: #43A047; -fx-text-fill: WHITE; -fx-background-radius: 5; -fx-font-weight: bold; -fx-padding: 10 25; -fx-cursor: hand;">
                <tooltip>
                    <Tooltip text="Cháº¥p nháº­n yÃªu cáº§u vÃ  cáº­p nháº­t Ä‘iá»ƒm má»›i" />
                </tooltip>
            </Button>

            <Button text="âŒ Tá»« chá»‘i" onAction="#handleReject"
                    style="-fx-background-color: #E53935; -fx-text-fill: WHITE; -fx-background-radius: 5; -fx-font-weight: bold; -fx-padding: 10 25; -fx-cursor: hand;">
                <tooltip>
                    <Tooltip text="Tá»« chá»‘i yÃªu cáº§u phÃºc tra" />
                </tooltip>
            </Button>
        </HBox>

        <!-- Help Section -->
        <Separator style="-fx-padding: 5 0;" />

        <VBox spacing="8" style="-fx-padding: 5 0 0 0; -fx-background-color: #E3F2FD; -fx-padding: 12; -fx-background-radius: 5;">
            <HBox spacing="8" alignment="CENTER_LEFT">
                <Label text="ðŸ’¡" style="-fx-font-size: 16;" />
                <Label text="HÆ°á»›ng dáº«n sá»­ dá»¥ng:"
                       style="-fx-text-fill: #1565C0; -fx-font-size: 13; -fx-font-weight: bold;" />
            </HBox>

            <VBox spacing="5" style="-fx-padding: 0 0 0 25;">
                <HBox spacing="8" alignment="CENTER_LEFT">
                    <Label text="â€¢" style="-fx-text-fill: #1976D2; -fx-font-weight: bold;" />
                    <Label text="Click Ä‘Ãºp vÃ o dÃ²ng báº¥t ká»³ Ä‘á»ƒ xem chi tiáº¿t yÃªu cáº§u phÃºc tra"
                           style="-fx-text-fill: #424242; -fx-font-size: 11;" wrapText="true" />
                </HBox>

                <HBox spacing="8" alignment="CENTER_LEFT">
                    <Label text="â€¢" style="-fx-text-fill: #1976D2; -fx-font-weight: bold;" />
                    <Label text="Chá»n yÃªu cáº§u vÃ  nháº¥n 'Cháº¥p nháº­n' Ä‘á»ƒ cáº­p nháº­t Ä‘iá»ƒm má»›i cho sinh viÃªn"
                           style="-fx-text-fill: #424242; -fx-font-size: 11;" wrapText="true" />
                </HBox>

                <HBox spacing="8" alignment="CENTER_LEFT">
                    <Label text="â€¢" style="-fx-text-fill: #1976D2; -fx-font-weight: bold;" />
                    <Label text="Chá»n yÃªu cáº§u vÃ  nháº¥n 'Tá»« chá»‘i' náº¿u yÃªu cáº§u khÃ´ng há»£p lÃ½ (cáº§n nháº­p lÃ½ do)"
                           style="-fx-text-fill: #424242; -fx-font-size: 11;" wrapText="true" />
                </HBox>

                <HBox spacing="8" alignment="CENTER_LEFT">
                    <Label text="âš " style="-fx-text-fill: #D32F2F; -fx-font-weight: bold;" />
                    <Label text="Chá»‰ cÃ³ thá»ƒ xá»­ lÃ½ cÃ¡c yÃªu cáº§u á»Ÿ tráº¡ng thÃ¡i 'Chá» xá»­ lÃ½' - Thao tÃ¡c khÃ´ng thá»ƒ hoÃ n tÃ¡c!"
                           style="-fx-text-fill: #D32F2F; -fx-font-size: 11; -fx-font-weight: bold;" wrapText="true" />
                </HBox>
            </VBox>
        </VBox>

        <!-- Status Legend -->
        <HBox spacing="20" alignment="CENTER_LEFT" style="-fx-padding: 10 0 0 0;">
            <Label text="ChÃº thÃ­ch tráº¡ng thÃ¡i:" style="-fx-font-weight: bold; -fx-font-size: 11;" />

            <HBox spacing="5" alignment="CENTER_LEFT">
                <Label text="â—" style="-fx-text-fill: #F57C00; -fx-font-size: 16;" />
                <Label text="Chá» xá»­ lÃ½" style="-fx-font-size: 11;" />
            </HBox>

            <HBox spacing="5" alignment="CENTER_LEFT">
                <Label text="â—" style="-fx-text-fill: #388E3C; -fx-font-size: 16;" />
                <Label text="Cháº¥p nháº­n" style="-fx-font-size: 11;" />
            </HBox>

            <HBox spacing="5" alignment="CENTER_LEFT">
                <Label text="â—" style="-fx-text-fill: #D32F2F; -fx-font-size: 16;" />
                <Label text="Tá»« chá»‘i" style="-fx-font-size: 11;" />
            </HBox>
        </HBox>
    </VBox>
</VBox>