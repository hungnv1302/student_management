<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<VBox spacing="20.0" style="-fx-padding: 20; -fx-background-color: #FAFAFA;"
      xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="org.example.controller.lecturer.LecturerScoreController">

    <Label text="QUáº¢N LÃ ÄIá»‚M Sá»"
           style="-fx-font-size: 24; -fx-font-weight: bold; -fx-text-fill: #1976D2;" />

    <!-- Search Section -->
    <VBox spacing="10.0"
          style="-fx-padding: 15; -fx-border-color: #E0E0E0; -fx-border-radius: 8; -fx-background-color: white; -fx-background-radius: 8;">
        <Label style="-fx-font-weight: bold; -fx-font-size: 14;" text="Chá»n Lá»›p Há»c" />

        <HBox alignment="CENTER_LEFT" spacing="10.0">
            <TextField fx:id="classSearchField" prefWidth="350.0"
                       promptText="Nháº­p MÃ£ Lá»›p (VD: 25A001)"
                       style="-fx-background-radius: 5; -fx-border-color: #BDBDBD; -fx-border-width: 1; -fx-padding: 8;" />

            <Button fx:id="loadButton" text="ðŸ” Táº£i Danh sÃ¡ch" onAction="#handleLoad"
                    style="-fx-background-color: #1976D2; -fx-text-fill: white; -fx-background-radius: 5; -fx-cursor: hand; -fx-padding: 8 20; -fx-font-weight: bold;">
                <tooltip>
                    <Tooltip text="Táº£i danh sÃ¡ch sinh viÃªn cá»§a lá»›p" />
                </tooltip>
            </Button>
        </HBox>
    </VBox>

    <!-- Table Section -->
    <VBox spacing="15.0"
          style="-fx-padding: 15; -fx-border-color: #E0E0E0; -fx-border-radius: 8; -fx-background-color: white; -fx-background-radius: 8;">
        <HBox alignment="CENTER_LEFT" spacing="10.0">
            <Label text="Danh sÃ¡ch Sinh viÃªn"
                   style="-fx-font-size: 16; -fx-font-weight: bold; -fx-text-fill: #424242;" />
            <Region HBox.hgrow="ALWAYS" />
            <Label fx:id="statusLabel" text=""
                   style="-fx-text-fill: #757575; -fx-font-style: italic;" />
        </HBox>

        <TableView fx:id="gradeTable" prefHeight="400.0" editable="true"
                   style="-fx-border-color: #E0E0E0; -fx-border-width: 1; -fx-border-radius: 5;">
            <columns>
                <TableColumn fx:id="colStudentId" prefWidth="100.0" text="MÃ£ SV"
                             resizable="false" sortable="true" />
                <TableColumn fx:id="colFullName"  prefWidth="250.0" text="Há» vÃ  TÃªn"
                             resizable="true" sortable="true" />
                <TableColumn fx:id="colMidterm"   prefWidth="100.0"  text="Äiá»ƒm GK"
                             resizable="false" sortable="true" />
                <TableColumn fx:id="colFinal"     prefWidth="100.0"  text="Äiá»ƒm CK"
                             resizable="false" sortable="true" />
                <TableColumn fx:id="colTotal"     prefWidth="100.0"  text="Äiá»ƒm TK"
                             resizable="false" sortable="true" />
                <TableColumn fx:id="colNote"      prefWidth="120.0" text="Tráº¡ng thÃ¡i"
                             resizable="false" sortable="false" />
            </columns>
            <placeholder>
                <Label text="ChÆ°a cÃ³ dá»¯ liá»‡u. Vui lÃ²ng nháº­p mÃ£ lá»›p vÃ  nháº¥n 'Táº£i Danh sÃ¡ch'"
                       style="-fx-text-fill: #9E9E9E; -fx-font-style: italic;" />
            </placeholder>
        </TableView>

        <!-- Action Buttons -->
        <HBox alignment="CENTER_RIGHT" spacing="15.0" style="-fx-padding: 10 0 0 0;">
            <Button fx:id="saveButton" text="ðŸ’¾ LÆ°u Äiá»ƒm" onAction="#handleSave"
                    style="-fx-background-color: #43A047; -fx-text-fill: WHITE; -fx-background-radius: 5; -fx-font-weight: bold; -fx-padding: 10 25; -fx-cursor: hand;">
                <tooltip>
                    <Tooltip text="LÆ°u Ä‘iá»ƒm GK vÃ  CK (chÆ°a tÃ­nh Ä‘iá»ƒm tá»•ng káº¿t)" />
                </tooltip>
            </Button>
            <Button fx:id="calculateButton" text="ðŸ“Š TÃ­nh Äiá»ƒm Há»c Pháº§n" onAction="#handleCalculateFinalGrades"
                    style="-fx-background-color: #E53935; -fx-text-fill: WHITE; -fx-background-radius: 5; -fx-font-weight: bold; -fx-padding: 10 25; -fx-cursor: hand;">
                <tooltip>
                    <Tooltip text="TÃ­nh Ä‘iá»ƒm tá»•ng káº¿t vÃ  chá»‘t Ä‘iá»ƒm - KHÃ”NG thá»ƒ sá»­a sau khi tÃ­nh!" />
                </tooltip>
            </Button>
        </HBox>

        <!-- Help Text -->
        <VBox spacing="5" style="-fx-padding: 10 0 0 0;">
            <Label text="ðŸ’¡ HÆ°á»›ng dáº«n sá»­ dá»¥ng:"
                   style="-fx-text-fill: #1976D2; -fx-font-size: 12; -fx-font-weight: bold;" />
            <Label text="   â€¢ Click Ä‘Ãºp vÃ o Ã´ Ä‘iá»ƒm Ä‘á»ƒ nháº­p/sá»­a Ä‘iá»ƒm (chá»‰ nháº­p tá»« 0-10)"
                   style="-fx-text-fill: #757575; -fx-font-size: 11;" />
            <Label text="   â€¢ Nháº¥n 'LÆ°u Äiá»ƒm' Ä‘á»ƒ lÆ°u Ä‘iá»ƒm GK vÃ  CK (chÆ°a tÃ­nh tá»•ng)"
                   style="-fx-text-fill: #757575; -fx-font-size: 11;" />
            <Label text="   â€¢ Nháº¥n 'TÃ­nh Äiá»ƒm Há»c Pháº§n' Ä‘á»ƒ tÃ­nh Ä‘iá»ƒm TK = GK Ã— 0.5 + CK Ã— 0.5 vÃ  chá»‘t Ä‘iá»ƒm"
                   style="-fx-text-fill: #757575; -fx-font-size: 11;" />
        </VBox>
    </VBox>
</VBox>